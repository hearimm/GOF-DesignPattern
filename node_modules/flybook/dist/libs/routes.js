'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _fs = require('fs');

var _path = require('path');

var _jsYaml = require('js-yaml');

exports.default = function (targetDir) {
  var routes = void 0;
  var routesObj = void 0;
  var file = (0, _path.join)(targetDir, 'toc.yml');

  try {
    routes = (0, _fs.readFileSync)(file, 'utf8');
    routesObj = (0, _jsYaml.safeLoad)(routes);
  } catch (e) {
    throw new Error('> No such toc.yml file exists as the document root: ' + file);
  }

  return routesObj;
};