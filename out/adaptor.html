<!DOCTYPE html>
<html>
<meta charset="UTF-8" />
<title>Adaptor</title>
<meta name="description" content="Adaptor 패턴

프로그래밍을 진행하다보면 이미 제공되어 있는 것과 필요한 것 사이에서

차이 가 발생하게 되는데 이때 이 '차이'를 없애주는 것이 Adapter 패턴이다. 
" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link href="//fonts.googleapis.com/css?family=Rubik|Unica+One" rel="stylesheet" />
<link rel="stylesheet" href=".\static/css/normalize.css?cfef39a759eb9a87" />
<link rel="stylesheet" href=".\static/css/flexboxgrid.min.css?cfef39a759eb9a87" />
<link rel="stylesheet" href=".\static/css/github-flavored-markdown.css?cfef39a759eb9a87" />
<link rel="stylesheet" href=".\static/css/light.css?cfef39a759eb9a87" />
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-dark.min.css" />
<style>
  body,
  .markdown-body {
    font-family: "Rubik|Unica+One", -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  }
</style>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script src=".\static/main.js?cfef39a759eb9a87"></script>

<body>
  <div id="root">
    <div class="wrap container-fluid">
      <header class="site-header">
        <h1>
          <a href="/GOF-DesignPattern/">flybook</a>
        </h1>
        <nav class="nav-link">
          <a href="/GOF-DesignPattern/">Home</a>
          <a href="https://hearimm.github.io/GOF-DesignPattern/">Git</a>
          <a href="#" class="more">
            <svg aria-hidden="true" class="octicon" height="24" version="1.1" viewBox="0 0 12 16" width="18">
              <path d="M11.41 9H.59C0 9 0 8.59 0 8c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zm0-4H.59C0 5 0 4.59 0 4c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM.59 11H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1H.59C0 13 0 12.59 0 12c0-.59 0-1 .59-1z"></path>
            </svg>
          </a>
        </nav>
      </header>
      <section class="row main">
        <aside class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
          <div class="chap">
            <span class="chap-title"></span>
            <ul>
              <li class="active">
                <a href="adaptor.html">Adaptor</a>
              </li>
              <li class="">
                <a href="iterator.html">Iterator</a>
              </li>
              <li class="">
                <a href="template.html">Template</a>
              </li>
              <li class="">
                <a href="abstractFactory.html">Abstractfactory</a>
              </li>
              <li class="">
                <a href="bridge.html">Bridge</a>
              </li>
              <li class="">
                <a href="builder.html">Builder</a>
              </li>
              <li class="">
                <a href="chainOfResponsibility.html">Chainofresponsibility</a>
              </li>
              <li class="">
                <a href="Command.html">Command</a>
              </li>
              <li class="">
                <a href="effectiveJavaBuild.html">Effectivejavabuild</a>
              </li>
              <li class="">
                <a href="facade.html">Facade</a>
              </li>
              <li class="">
                <a href="factoryMethod.html">Factorymethod</a>
              </li>
              <li class="">
                <a href="flyWeight.html">Flyweight</a>
              </li>
              <li class="">
                <a href="Interpreter.html">Interpreter</a>
              </li>
              <li class="">
                <a href="mediator.html">Mediator</a>
              </li>
              <li class="">
                <a href="memento.html">Memento</a>
              </li>
              <li class="">
                <a href="observer.html">Observer</a>
              </li>
              <li class="">
                <a href="prototype.html">Prototype</a>
              </li>
              <li class="">
                <a href="proxy.html">Proxy</a>
              </li>
              <li class="">
                <a href="singleton.html">Singleton</a>
              </li>
              <li class="">
                <a href="state.html">State</a>
              </li>
              <li class="">
                <a href="visitor.html">Visitor</a>
              </li>
            </ul>
          </div>
        </aside>
        <article class="col-xs-12 col-sm-9 col-md-9 col-lg-9">
          <div class="markdown-body">
            <h1 id="adaptor-패턴">
              <a href="#adaptor-%ED%8C%A8%ED%84%B4" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>Adaptor 패턴</h1>
            <p>프로그래밍을 진행하다보면
              <strong>이미 제공되어 있는 것</strong>과
              <strong>필요한 것</strong> 사이에서</p>
            <p>
              <strong>차이</strong> 가 발생하게 되는데 이때 이 '차이'를 없애주는 것이
              <strong>Adapter 패턴</strong>이다. </p>
            <p>
              <em>(Adapter 패턴은
                <strong>Wrapper 패턴</strong>으로 불리기도 한다.)</em>
            </p>
            <p>Adapter 패턴에는 다음과 같은 두 가지 종류가 있다.</p>
            <pre><code>클래스에 의한 Adapter 패턴(상속을 사용한 Adapter 패턴)

인스턴스에 의한 Adapter 패턴(위임을 사용한 Adapter 패턴)
</code></pre>
            <p>예제프로그램은 주어진 문자열을 아래와 같이 표시하는 간단한 것이다.</p>
            <pre><code>(Hello)
*Hello*
</code></pre>
            <h2 id="예제프로그램-1----상속을-사용한-adapter-패턴--">
              <a href="#%EC%98%88%EC%A0%9C%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-1----%EC%83%81%EC%86%8D%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%9C-adapter-%ED%8C%A8%ED%84%B4--"
                aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>예제프로그램 (1) - 상속을 사용한 Adapter 패턴 -</h2>
            <h3 id="banner-adaptee어댑터가-변환해줄-클래스">
              <a href="#banner-adaptee%EC%96%B4%EB%8C%91%ED%84%B0%EA%B0%80-%EB%B3%80%ED%99%98%ED%95%B4%EC%A4%84-%ED%81%B4%EB%9E%98%EC%8A%A4"
                aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>Banner (Adaptee:어댑터가 변환해줄 클래스)</h3>
            <p>미리제공된 클래스라고 가정</p>
            <pre><code class="language-java">//API
public class Banner {
    private String string;
    
    public Banner(String string){
        this.string = string;
    }
    public void showWithParen(){
        System.out.println("("+string+")");
    }
    public void showWithAster(){
        System.out.println("*"+string+"*");
    }
}
</code></pre>
            <h3 id="print">
              <a href="#print" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>Print</h3>
            <p>사용자가 필요로 하는 기능 interface 선언</p>
            <pre><code class="language-java">public interface Print{
    public abstract void printWeak();
    public abstract void printStrong();
}
</code></pre>
            <h3 id="main-호출">
              <a href="#main-%ED%98%B8%EC%B6%9C" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>Main 호출</h3>
            <pre><code class="language-java">public class Main {
    Public static void main(Stringp[] args) {
        //PrintAdapter가 banner를 상속 받아 super("Hello")로 구현
        Print p = new PrintAdapter("Hello");
        p.printWeak();
        p.printStrong();
    }
}
</code></pre>
            <h3 id="printadapter-상속style-adapter">
              <a href="#printadapter-%EC%83%81%EC%86%8Dstyle-adapter" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>PrintAdapter 상속Style (Adapter)</h3>
            <p>어댑터 역할클래스 </p>
            <pre><code class="language-java">//교환장치(Adapter)
public class PrintAdapter extends Banner implements Print{
    //생성자
    //PrintAdapter가 banner를 상속 받아 super("Hello")로 구현
    public PrintAdapter(String string){
        super(string);
    }
    public void printWeak(){
        showWithParen();
    }
    public void printStrong(){
        showWithAster();
    }
}
</code></pre>
            <h3 id="위임style">
              <a href="#%EC%9C%84%EC%9E%84style" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>위임Style</h3>
            <pre><code class="language-java">public abstract class Print{ // interface -> abstract class
    public abstract void printWeak();
    public abstract void printStrong();
}
public class PrintAdapter extends Print{
    private Banner banner; //!!!
    //상속style:PrintAdapter가 Banner를 상속 받아 super("Hello")로 구현
    //위임style:PrintAdapter가 Print를 상속 받아 필드에 Banner생성
    public PrintAdapter(String string){
        this.banner = new Banenr(string);
    }
    public void printWeak(){
        banner.showWithParen();
    }
    public void printStrong(){
        banner.showWithAster();
    }
}
</code></pre>
            <h2 id="adapter-패턴의-등장인물">
              <a href="#adapter-%ED%8C%A8%ED%84%B4%EC%9D%98-%EB%93%B1%EC%9E%A5%EC%9D%B8%EB%AC%BC" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>Adapter 패턴의 등장인물</h2>
            <p>
              <strong>Target(대상)</strong> 의 역할 지금 필요한 메소드를 결정합니다.</p>
            <p>예제에서는
              <strong>(1)Print 인터페이스</strong>나,
              <strong>(2)Print abstract클래스</strong>에 해당됩니다</p>
            <p>
              <strong>Client(의뢰자)</strong> 의 역할 Target역할의 메소드를 사용해서 일을 처리합니다. </p>
            <p>예제에서는
              <strong>Main 클래스</strong> 가 해당됩니다.</p>
            <p>
              <strong>Adaptee(개조되는 쪽)</strong> 의 역할 이미 준비되어 있는 메소드를 가지고 있는 역할입니다. </p>
            <p>예제에서는
              <strong>Banner 클래스</strong>에 해당합니다. Target과 Adaptee의 역할이 일치할경우에는 Adapter가 필요 없습니다.</p>
            <h2 id="왜-쓸까">
              <a href="#%EC%99%9C-%EC%93%B8%EA%B9%8C" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>왜 쓸까?</h2>
            <p>다음 지도 API를 사용하는 앱을 구글 지도 API소스를 추가해서 둘 다 사용한다고 할때,호출하는 메소드 이름이 각각 다를것이다.</p>
            <p>기존 메소드를 사용하고 있는 부분을 최소한으로 수정하면서 적용하고자 한다면</p>
            <p>공통적으로 구현하고자 하는 method를 interface에 정의해 adapter를 이용해 한가지 메소드 호출로 이용할 수 있다.</p>
            <p>추후에 네이버 지도 API를 추가 한다면 기존 interface를 이용해 더욱 깔끔하게 사용 가능하다.</p>
            <h2 id="연습문제">
              <a href="#%EC%97%B0%EC%8A%B5%EB%AC%B8%EC%A0%9C" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>연습문제</h2>
            <pre><code class="language-java">Print p = new PrintAdapter("Hello"); //예제

PrintAdapter p = new PrintAdapter("Hello"); // 왜 이렇게 안했을까?
p.printWeak();
p.printStrong();
</code></pre>
            <p>물론 돌아간다.</p>
            <p>Print Interface에선언된 내용만 사용할 수 있기때문에, 좀더 정확한 명세가 가능하다.</p>
            <h2 id="나만의-adaptor-example">
              <a href="#%EB%82%98%EB%A7%8C%EC%9D%98-adaptor-example" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>나만의 Adaptor Example</h2>
            <h3 id="ver10">
              <a href="#ver10" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>Ver1.0</h3>
            <p>다음Map API를 사용하고 있다고 가정</p>
            <h3 id="daummapjava">
              <a href="#daummapjava" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>DaumMap.java</h3>
            <pre><code class="language-java">public class DaumMap {
  String mapName = "다음맵";

  public String drawMap() {
    return mapName;
  }
  public String moveToSuwon() {
    return "수원";
  }
  public String moveToSeoul() {
    return "서울";
  }
}
</code></pre>
            <h3 id="clientjava-사용자">
              <a href="#clientjava-%EC%82%AC%EC%9A%A9%EC%9E%90" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>Client.java 사용자</h3>
            <pre><code class="language-java">public class Client {
  public static void main(String[] args) {
    MapApi map = new DaumMap();
    map.drawMap();
    map.moveToSuwon();
    map.moveToSeoul()
   }
</code></pre>
            <h3 id="ver-20">
              <a href="#ver-20" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>Ver 2.0</h3>
            <p>새로운 기능 추가로 Google API도 추가로 사용하기로 결정했다고 가정</p>
            <p>Adaptor = interface</p>
            <p>Adaptee = GoogleMap</p>
            <h3 id="mapapi-adaptor">
              <a href="#mapapi-adaptor" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>MapApi (Adaptor)</h3>
            <pre><code class="language-java">public interface MapApi {
  //GoogleMap 에서 어댑터패턴이 적용될 메소드
  String drawMap();
  String moveToSuwon();
  String moveToSeoul();
}
</code></pre>
            <h3 id="googlemapjava-adaptee">
              <a href="#googlemapjava-adaptee" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>GoogleMap.java (Adaptee)</h3>
            <pre><code class="language-java">public class GoogleMap implements MapApi{
  String ver = "GoogleMap 1.0";
  String location = "CA";

  public String version() {
    return ver;
  }
  public String thisLocation() {
    return location;
  }
  public void moveTo(double lat, double lng) {
    //이동했다.
  }
  public String darkTheme() {
    return "DarkTheme-Apply";
  }
  @Override
  public String drawMap() {
    return this.version();
  }
  @Override
  public String moveToSuwon() {
    moveTo( 37.263363,127.028625 );
    return "수원 (37.263363,127.028625)";
  }
  @Override
  public String moveToSeoul() {
    moveTo( 37.564374,126.975586 );
    return "서울 ( 37.564374,126.975586 )";
  }
}
</code></pre>
            <h3 id="daummapjava-1">
              <a href="#daummapjava-1" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>DaumMap.java</h3>
            <pre><code class="language-java">public class DaumMap implements MapApi {
  String mapName = "다음맵";

  public String drawMap() {
    return mapName;
  }
  public String moveToSuwon() {
    return "수원";
  }
  public String moveToSeoul() {
    return "서울";
  }
}
</code></pre>
            <h3 id="clientjava-사용자-ver20">
              <a href="#clientjava-%EC%82%AC%EC%9A%A9%EC%9E%90-ver20" aria-hidden="true">
                <span class="icon icon-link"></span>
              </a>Client.java 사용자 Ver2.0</h3>
            <pre><code class="language-java">public class Client {
  public static void main(String[] args) {
    MapApi map = new DaumMap();
    map.drawMap();
    map.moveToSuwon();
    map.moveToSeoul();

    MapApi googleMap = new GoogleMap();
    map.drawMap();
    map.moveToSuwon();
    map.moveToSeoul();
    //map.darkTheme(); // error:The method darkTheme() is undefined for the type MapApi

    ((GoogleMap) googleMap).darkTheme(); // OK! MapApi에 없는 기능을 쓰려면 다운캐스팅
}
</code></pre>
          </div>
        </article>
      </section>
      <footer>© 2017
        <a>flybook</a>. All rights reserved.</footer>
    </div>
  </div>
</body>

</html>